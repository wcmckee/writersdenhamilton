(function(a,b,c){var d={html:false,photo:false,iframe:false,inline:false,transition:"elastic",speed:300,fadeOut:300,width:false,initialWidth:"600",innerWidth:false,maxWidth:false,height:false,initialHeight:"450",innerHeight:false,maxHeight:false,scalePhotos:true,scrolling:true,opacity:0.9,preloading:true,className:false,overlayClose:true,escKey:true,arrowKey:true,top:false,bottom:false,left:false,right:false,fixed:false,data:undefined,closeButton:true,fastIframe:true,open:false,reposition:true,loop:true,slideshow:false,slideshowAuto:true,slideshowSpeed:2500,slideshowStart:"start slideshow",slideshowStop:"stop slideshow",photoRegex:/\.(gif|png|jp(e|g|eg)|bmp|ico|webp|jxr|svg)((#|\?).*)?$/i,retinaImage:false,retinaUrl:false,retinaSuffix:'@2x.$1',current:"image {current} of {total}",previous:"previous",next:"next",close:"close",xhrError:"This content failed to load.",imgError:"This image failed to load.",returnFocus:true,trapFocus:true,onOpen:false,onLoad:false,onComplete:false,onCleanup:false,onClosed:false,rel:function(){return this.rel;},href:function(){return a(this).attr('href');},title:function(){return this.title;}},e='colorbox',f='cbox',g=f+'Element',h=f+'_open',i=f+'_load',j=f+'_complete',k=f+'_cleanup',l=f+'_closed',m=f+'_purge',n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H=a('<a/>'),I,J,K,L,M,N,O,P,Q,R,S,T,U="div",V=0,W={},X;function Y(c,d,e){var g=b.createElement(c);if(d)g.id=f+d;if(e)g.style.cssText=e;return a(g);}function Z(){return c.innerHeight?c.innerHeight:a(c).height();}function ab(b,c){if(c!==Object(c))c={};this.cache={};this.el=b;this.value=function(b){var e;if(this.cache[b]===undefined){e=a(this.el).attr('data-cbox-'+b);if(e!==undefined)this.cache[b]=e;else if(c[b]!==undefined)this.cache[b]=c[b];else if(d[b]!==undefined)this.cache[b]=d[b];}return this.cache[b];};this.get=function(b){var c=this.value(b);return a.isFunction(c)?c.call(this.el,this):c;};}function ac(a){var b=v.length,c=(N+a)%b;return(c<0)?b+c:c;}function ad(a,b){return Math.round((/%/.test(a)?((b==='x'?w.width():Z())/100):1)*parseInt(a,10));}function ae(a,b){return a.get('photo')||a.get('photoRegex').test(b);}function af(a,b){return a.get('retinaUrl')&&c.devicePixelRatio>1?b.replace(a.get('photoRegex'),a.get('retinaSuffix')):b;}function ag(a){if('contains' in o[0]&&!o[0].contains(a.target)&&a.target!==n[0]){a.stopPropagation();o.focus();}}function ah(a){if(ah.str!==a){o.add(n).removeClass(ah.str).addClass(a);ah.str=a;}}function ai(b){N=0;if(b&&b!==false&&b!=='nofollow'){v=a('.'+g).filter(function(){var c=a.data(this,e);var d=new ab(this,c);return(d.get('rel')===b);});N=v.index(I.el);if(N===-1){v=v.add(I.el);N=v.length-1;}}else v=a(I.el);}function aj(c){a(b).trigger(c);H.triggerHandler(c);}var ak=(function(){var a,b=f+"Slideshow_",c="click."+f,d;function e(){clearTimeout(d);}function g(){if(I.get('loop')||v[N+1]){e();d=setTimeout(T.next,I.get('slideshowSpeed'));}}function h(){C.html(I.get('slideshowStop')).unbind(c).one(c,l);H.bind(j,g).bind(i,e);o.removeClass(b+"off").addClass(b+"on");}function l(){e();H.unbind(j,g).unbind(i,e);C.html(I.get('slideshowStart')).unbind(c).one(c,function(){T.next();h();});o.removeClass(b+"on").addClass(b+"off");}function m(){a=false;C.hide();e();H.unbind(j,g).unbind(i,e);o.removeClass(b+"off "+b+"on");}return function(){if(a){if(!I.get('slideshow')){H.unbind(k,m);m();}}else if(I.get('slideshow')&&v[1]){a=true;H.one(k,m);if(I.get('slideshowAuto'))h();else l();C.show();}};}());function al(c){var d;if(!R){d=a(c).data(e);I=new ab(c,d);ai(I.get('rel'));if(!P){P=Q=true;ah(I.get('className'));o.css({visibility:'hidden',display:'block',opacity:''});x=Y(U,'LoadedContent','width:0; height:0; overflow:hidden; visibility:hidden');q.css({width:'',height:''}).append(x);J=r.height()+u.height()+q.outerHeight(true)-q.height();K=s.width()+t.width()+q.outerWidth(true)-q.width();L=x.outerHeight(true);M=x.outerWidth(true);var f=ad(I.get('initialWidth'),'x');var g=ad(I.get('initialHeight'),'y');var i=I.get('maxWidth');var j=I.get('maxHeight');I.w=(i!==false?Math.min(f,ad(i,'x')):f)-M-K;I.h=(j!==false?Math.min(g,ad(j,'y')):g)-L-J;x.css({width:'',height:I.h});T.position();aj(h);I.get('onOpen');G.add(A).hide();o.focus();if(I.get('trapFocus'))if(b.addEventListener){b.addEventListener('focus',ag,true);H.one(l,function(){b.removeEventListener('focus',ag,true);});}if(I.get('returnFocus'))H.one(l,function(){a(I.el).focus();});}var k=parseFloat(I.get('opacity'));n.css({opacity:k===k?k:'',cursor:I.get('overlayClose')?'pointer':'',visibility:'visible'}).show();if(I.get('closeButton'))F.html(I.get('close')).appendTo(q);else F.appendTo('<div/>');ao();}}function am(){if(!o){X=false;w=a(c);o=Y(U).attr({id:e,'class':a.support.opacity===false?f+'IE':'',role:'dialog',tabindex:'-1'}).hide();n=Y(U,"Overlay").hide();z=a([Y(U,"LoadingOverlay")[0],Y(U,"LoadingGraphic")[0]]);p=Y(U,"Wrapper");q=Y(U,"Content").append(A=Y(U,"Title"),B=Y(U,"Current"),E=a('<button type="button"/>').attr({id:f+'Previous'}),D=a('<button type="button"/>').attr({id:f+'Next'}),C=Y('button',"Slideshow"),z);F=a('<button type="button"/>').attr({id:f+'Close'});p.append(Y(U).append(Y(U,"TopLeft"),r=Y(U,"TopCenter"),Y(U,"TopRight")),Y(U,false,'clear:left').append(s=Y(U,"MiddleLeft"),q,t=Y(U,"MiddleRight")),Y(U,false,'clear:left').append(Y(U,"BottomLeft"),u=Y(U,"BottomCenter"),Y(U,"BottomRight"))).find('div div').css({'float':'left'});y=Y(U,false,'position:absolute; width:9999px; visibility:hidden; display:none; max-width:none;');G=D.add(E).add(B).add(C);}if(b.body&&!o.parent().length)a(b.body).append(n,o.append(p,y));}function an(){function c(a){if(!(a.which>1||a.shiftKey||a.altKey||a.metaKey||a.ctrlKey)){a.preventDefault();al(this);}}if(o){if(!X){X=true;D.click(function(){T.next();});E.click(function(){T.prev();});F.click(function(){T.close();});n.click(function(){if(I.get('overlayClose'))T.close();});a(b).bind('keydown.'+f,function(a){var b=a.keyCode;if(P&&I.get('escKey')&&b===27){a.preventDefault();T.close();}if(P&&I.get('arrowKey')&&v[1]&&!a.altKey)if(b===37){a.preventDefault();E.click();}else if(b===39){a.preventDefault();D.click();}});if(a.isFunction(a.fn.on))a(b).on('click.'+f,'.'+g,c);else a('.'+g).live('click.'+f,c);}return true;}return false;}if(a[e])return;a(am);T=a.fn[e]=a[e]=function(b,c){var d;var f=this;b=b||{};if(a.isFunction(f)){f=a('<a/>');b.open=true;}else if(!f[0])return f;if(!f[0])return f;am();if(an()){if(c)b.onComplete=c;f.each(function(){var c=a.data(this,e)||{};a.data(this,e,a.extend(c,b));}).addClass(g);d=new ab(f[0],b);if(d.get('open'))al(f[0]);}return f;};T.position=function(b,c){var d,e=0,g=0,h=o.offset(),i,j;w.unbind('resize.'+f);o.css({top:-9e4,left:-9e4});i=w.scrollTop();j=w.scrollLeft();if(I.get('fixed')){h.top-=i;h.left-=j;o.css({position:'fixed'});}else{e=i;g=j;o.css({position:'absolute'});}if(I.get('right')!==false)g+=Math.max(w.width()-I.w-M-K-ad(I.get('right'),'x'),0);else if(I.get('left')!==false)g+=ad(I.get('left'),'x');else g+=Math.round(Math.max(w.width()-I.w-M-K,0)/2);if(I.get('bottom')!==false)e+=Math.max(Z()-I.h-L-J-ad(I.get('bottom'),'y'),0);else if(I.get('top')!==false)e+=ad(I.get('top'),'y');else e+=Math.round(Math.max(Z()-I.h-L-J,0)/2);o.css({top:h.top,left:h.left,visibility:'visible'});p[0].style.width=p[0].style.height="9999px";function k(){r[0].style.width=u[0].style.width=q[0].style.width=(parseInt(o[0].style.width,10)-K)+'px';q[0].style.height=s[0].style.height=t[0].style.height=(parseInt(o[0].style.height,10)-J)+'px';}d={width:I.w+M+K,height:I.h+L+J,top:e,left:g};if(b){var l=0;a.each(d,function(a){if(d[a]!==W[a]){l=b;return;}});b=l;}W=d;if(!b)o.css(d);o.dequeue().animate(d,{duration:b||0,complete:function(){k();Q=false;p[0].style.width=(I.w+M+K)+"px";p[0].style.height=(I.h+L+J)+"px";if(I.get('reposition'))setTimeout(function(){w.bind('resize.'+f,T.position);},1);if(a.isFunction(c))c();},step:k});};T.resize=function(a){var b;if(P){a=a||{};if(a.width)I.w=ad(a.width,'x')-M-K;if(a.innerWidth)I.w=ad(a.innerWidth,'x');x.css({width:I.w});if(a.height)I.h=ad(a.height,'y')-L-J;if(a.innerHeight)I.h=ad(a.innerHeight,'y');if(!a.innerHeight&&!a.height){b=x.scrollTop();x.css({height:"auto"});I.h=x.height();}x.css({height:I.h});if(b)x.scrollTop(b);T.position(I.get('transition')==="none"?0:I.get('speed'));}};T.prep=function(c){if(!P)return;var d,g=I.get('transition')==="none"?0:I.get('speed');x.remove();x=Y(U,'LoadedContent').append(c);function h(){I.w=I.w||x.width();I.w=I.mw&&I.mw<I.w?I.mw:I.w;return I.w;}function i(){I.h=I.h||x.height();I.h=I.mh&&I.mh<I.h?I.mh:I.h;return I.h;}x.hide().appendTo(y.show()).css({width:h(),overflow:I.get('scrolling')?'auto':'hidden'}).css({height:i()}).prependTo(q);y.hide();a(O).css({'float':'none'});ah(I.get('className'));d=function(){var c=v.length,d,h;if(!P)return;function i(){if(a.support.opacity===false)o[0].style.removeAttribute('filter');}h=function(){clearTimeout(S);z.hide();aj(j);I.get('onComplete');};A.html(I.get('title')).show();x.show();if(c>1){if(typeof I.get('current')==="string")B.html(I.get('current').replace('{current}',N+1).replace('{total}',c)).show();D[(I.get('loop')||N<c-1)?"show":"hide"]().html(I.get('next'));E[(I.get('loop')||N)?"show":"hide"]().html(I.get('previous'));ak();if(I.get('preloading'))a.each([ac(-1),ac(1)],function(){var c,d=v[this],f=new ab(d,a.data(d,e)),g=f.get('href');if(g&&ae(f,g)){g=af(f,g);c=b.createElement('img');c.src=g;}});}else G.hide();if(I.get('iframe')){d=b.createElement('iframe');if('frameBorder' in d)d.frameBorder=0;if('allowTransparency' in d)d.allowTransparency="true";if(!I.get('scrolling'))d.scrolling="no";a(d).attr({src:I.get('href'),name:new Date().getTime(),'class':f+'Iframe',allowFullScreen:true}).one('load',h).appendTo(x);H.one(m,function(){d.src="//about:blank";});if(I.get('fastIframe'))a(d).trigger('load');}else h();if(I.get('transition')==='fade')o.fadeTo(g,1,i);else i();};if(I.get('transition')==='fade')o.fadeTo(g,0,function(){T.position(0,d);});else T.position(g,d);};function ao(){var b,d,e=T.prep,g,h=++V;Q=true;O=false;aj(m);aj(i);I.get('onLoad');I.h=I.get('height')?ad(I.get('height'),'y')-L-J:I.get('innerHeight')&&ad(I.get('innerHeight'),'y');I.w=I.get('width')?ad(I.get('width'),'x')-M-K:I.get('innerWidth')&&ad(I.get('innerWidth'),'x');I.mw=I.w;I.mh=I.h;if(I.get('maxWidth')){I.mw=ad(I.get('maxWidth'),'x')-M-K;I.mw=I.w&&I.w<I.mw?I.w:I.mw;}if(I.get('maxHeight')){I.mh=ad(I.get('maxHeight'),'y')-L-J;I.mh=I.h&&I.h<I.mh?I.h:I.mh;}b=I.get('href');S=setTimeout(function(){z.show();},100);if(I.get('inline')){var j=a(b);g=a('<div>').hide().insertBefore(j);H.one(m,function(){g.replaceWith(j);});e(j);}else if(I.get('iframe'))e(" ");else if(I.get('html'))e(I.get('html'));else if(ae(I,b)){b=af(I,b);O=new Image();a(O).addClass(f+'Photo').bind('error',function(){e(Y(U,'Error').html(I.get('imgError')));}).one('load',function(){if(h!==V)return;setTimeout(function(){var b;a.each(['alt','longdesc','aria-describedby'],function(b,c){var d=a(I.el).attr(c)||a(I.el).attr('data-'+c);if(d)O.setAttribute(c,d);});if(I.get('retinaImage')&&c.devicePixelRatio>1){O.height=O.height/c.devicePixelRatio;O.width=O.width/c.devicePixelRatio;}if(I.get('scalePhotos')){d=function(){O.height-=O.height*b;O.width-=O.width*b;};if(I.mw&&O.width>I.mw){b=(O.width-I.mw)/O.width;d();}if(I.mh&&O.height>I.mh){b=(O.height-I.mh)/O.height;d();}}if(I.h)O.style.marginTop=Math.max(I.mh-O.height,0)/2+'px';if(v[1]&&(I.get('loop')||v[N+1])){O.style.cursor='pointer';O.onclick=function(){T.next();};}O.style.width=O.width+'px';O.style.height=O.height+'px';e(O);},1);});O.src=b;}else if(b)y.load(b,I.get('data'),function(b,c){if(h===V)e(c==='error'?Y(U,'Error').html(I.get('xhrError')):a(this).contents());});}T.next=function(){if(!Q&&v[1]&&(I.get('loop')||v[N+1])){N=ac(1);al(v[N]);}};T.prev=function(){if(!Q&&v[1]&&(I.get('loop')||N)){N=ac(-1);al(v[N]);}};T.close=function(){if(P&&!R){R=true;P=false;aj(k);I.get('onCleanup');w.unbind('.'+f);n.fadeTo(I.get('fadeOut')||0,0);o.stop().fadeTo(I.get('fadeOut')||0,0,function(){o.hide();n.hide();aj(m);x.remove();setTimeout(function(){R=false;aj(l);I.get('onClosed');},1);});}};T.remove=function(){if(!o)return;o.stop();a[e].close();o.stop(false,true).remove();n.remove();R=false;o=null;a('.'+g).removeData(e).removeClass(g);a(b).unbind('click.'+f).unbind('keydown.'+f);};T.element=function(){return a(I.el);};T.settings=d;}(jQuery,document,window));